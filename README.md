# OCLite Copilot Extension

<div align="center">
  <img src="assets/icon.png" alt="OCLite Logo" width="128" />
  <p><strong>AI-powered creative asset generation inside Visual Studio Code.</strong></p>
  <p>
    <img src="https://img.shields.io/badge/VS%20Code-^1.90.0-007ACC?logo=visual-studio-code" alt="VS Code" />
    <img src="https://img.shields.io/badge/License-MIT-green" alt="License" />
    <img src="https://img.shields.io/badge/Publisher-Verified-blue?logo=microsoft" alt="Verified Publisher" />
  </p>
</div>

---

## Overview

OCLite Copilot Extension brings AI image generation directly into your development workflow. Type a short description, and the extension's **agentic reasoning pipeline** refines it through GPT-4o mini before sending it to a high-fidelity image model — all without leaving VS Code.

<!-- Replace the GIF path below with an actual recording of the generation flow -->
<!-- ![Demo](assets/demo.gif) -->

## Architecture

### Cloud-Native & Serverless

The extension is built on a modern cloud architecture designed for scalability and security.

- **Serverless Orchestration** — Processing is handled through Azure Functions (Node.js), enabling high scalability with pay-as-you-go cost efficiency.
- **Secrets Management** — API keys for GPT-4o mini and Replicate are stored in Azure Key Vault. No credentials are hardcoded in the extension source.
- **Supply Chain Trust** — Published as a Verified Publisher on the VS Code Marketplace, guaranteeing code authenticity and integrity for end users.

### Agentic Reasoning

OCLite is not a simple API wrapper. It is an **AI agent** that reasons about user intent before acting.

- **Prompt Engineering Orchestration** — GPT-4o mini acts as a reasoning engine. It analyzes the user's short description and automatically determines the optimal artistic style, color palette, lighting, composition, and quality tags for Stable Diffusion XL.
- **Context-Aware Suggestion** — The agent scans the workspace file structure (detecting Unity, Unreal, Godot, React, Vue, Angular projects) and suggests the most appropriate asset style and save location.
- **Smart Auto-Naming** — File names are generated by the LLM based on prompt content (e.g., `cyberpunk_cityscape_01.png`), with a keyword-based fallback if the LLM is unavailable.

### Data Flow

```
User prompt
   │
   ▼
┌──────────────────────────────┐
│  GPT-4o mini (LLM Agent)     │  ← Determines style, colors, lighting,
│  via SumoPod AI               │     composition, quality tags
└──────────────┬───────────────┘
               │ refined prompt
               ▼
┌──────────────────────────────┐
│  Image Generation Model       │  ← SDXL Lightning, Flux, Animagine, etc.
│  via OCLite API               │
└──────────────┬───────────────┘
               │ image URL
               ▼
┌──────────────────────────────┐
│  Download & Save              │  ← Smart naming via LLM
│  to workspace                 │     Context-aware folder detection
└──────────────────────────────┘
```

### Technical Specification

| Component | Technology | Role |
| :--- | :--- | :--- |
| LLM (Brain) | GPT-4o mini | Prompt refinement & agent reasoning |
| Image Generation | SDXL (via Replicate) | High-fidelity asset generation |
| Backend | Azure Functions | Serverless API handling |
| Security | Azure Key Vault | Secure API key management |
| UI Framework | VS Code UI Toolkit | Native & seamless UX |
| CI/CD | GitHub Actions | Automated build & deployment |

## Features

### Chat Participant

Type `@oclite` in GitHub Copilot Chat to generate images conversationally.

```text
@oclite a futuristic cyberpunk city at night with neon lights
```

### Sidebar Panel

A dedicated sidebar with a full generation UI, real-time step-by-step progress, and workspace-aware suggestions.

### Multi-Model Support

| Model | Description |
| :--- | :--- |
| `sdxl-lightning` | Fastest generation (default) |
| `flux-schnell` | High quality, fast |
| `flux-dev` | High quality, standard |
| `animagine-xl` | Anime style |
| `realistic-vision` | Photorealistic style |

### Workspace Detection

Automatically detects the project type and suggests the best asset style:

| Project | Suggested Style |
| :--- | :--- |
| Unity | Character / Texture |
| Unreal Engine | Environment / Texture |
| Godot | Pixel Art |
| React / Vue / Angular | UI Icon |
| Python | Vector |

## Requirements

- Visual Studio Code 1.90.0 or later
- An OCLite API key — get one at <https://oclite.site>
- GitHub Copilot extension (for the `@oclite` chat participant)

## Getting Started

1. Install the extension from the Visual Studio Code Marketplace.
2. Open the Command Palette (`Ctrl+Shift+P`) and run **OCLite: Set API Key**.
3. Enter your API key from <https://oclite.site>.
4. Start generating:
   - **Chat:** Open Copilot Chat (`Ctrl+Alt+I`) and type `@oclite <your prompt>`.
   - **Sidebar:** Select the OCLite icon in the Activity Bar, enter a prompt, and select **Generate**.

## Extension Settings

| Setting | Description | Default |
| :--- | :--- | :--- |
| `oclite.apiKey` | Your OCLite API key | — |
| `oclite.model` | AI model for image generation | `sdxl-lightning` |

## Commands

| Command | Description |
| :--- | :--- |
| `OCLite: Set API Key` | Store your OCLite API key |
| `OCLite: Save Image to Workspace` | Save a generated image to your project |
| `OCLite: Save Image from URL` | Save an image from a URL |
| `OCLite: Preview Generated Image` | Open a generated image in the editor |

## DevOps & Security

- **CI/CD Pipeline** — Automated build and publishing to the VS Code Marketplace using GitHub Actions.
- **Verified Publisher** — Listed as a verified publisher, ensuring code authenticity and supply chain trust.
- **Secrets Management** — All sensitive credentials are managed through Azure Key Vault. No API keys are committed to source control.
- **Content Security Policy** — Webview panels use cryptographic nonces to prevent script injection.

## Roadmap

- [ ] **Multi-Model Support** — Integration with DALL-E 3 and Midjourney.
- [ ] **Direct Asset Editing** — Simple image editing capabilities directly inside VS Code.
- [ ] **Enterprise-Grade Logging** — Azure Monitor integration for agent performance tracking.
- [ ] **Batch Generation** — Generate multiple asset variants from a single prompt.
- [ ] **Team Collaboration** — Shared asset libraries across workspace members.

## Release Notes

### 0.0.1

- Initial release.
- Chat participant (`@oclite`) and sidebar panel.
- LLM-powered prompt refinement via GPT-4o mini.
- Multi-model image generation (SDXL Lightning, Flux, Animagine, Realistic Vision).
- Smart auto-naming via LLM with keyword fallback.
- Workspace detection for Unity, Unreal, Godot, React, Vue, Angular.
- Context-aware save location suggestions.

## License

This project is licensed under the [MIT License](LICENSE).
